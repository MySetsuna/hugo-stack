<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="â€”â€” æœ¬æ–‡å†…å®¹ä»ã€ŠRustè¯­è¨€åœ£ç»ï¼ˆRust Courseï¼‰ã€‹ä¸­å½’çº³\nç‰¹å¾ Trait 1 2 3 4 fn add<T: std::ops::Add<Output = T>>(a:T, b:T) -> T { a + b } Trait å®šä¹‰äº†ä¸€ç»„å¯ä»¥è¢«å…±äº«çš„è¡Œä¸ºï¼Œåªè¦å®ç°äº†ç‰¹å¾ï¼Œä½ å°±èƒ½å®ç°è¿™ç»„è¡Œä¸ºã€‚\n"><title>Rustå­¦ä¹ ä¹‹è·¯â€”â€”ç‰¹å¾ï¼ˆTraitï¼‰</title>
<link rel=canonical href=https://mysetsuna.github.io/p/rust%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%B7%AF%E7%89%B9%E5%BE%81trait/><link rel=stylesheet href=/scss/style.min.0304c6baf04e01a8fe70693791cb744d56a3578a3120a8796cefc66825aa39c7.css><meta property='og:title' content="Rustå­¦ä¹ ä¹‹è·¯â€”â€”ç‰¹å¾ï¼ˆTraitï¼‰"><meta property='og:description' content="â€”â€” æœ¬æ–‡å†…å®¹ä»ã€ŠRustè¯­è¨€åœ£ç»ï¼ˆRust Courseï¼‰ã€‹ä¸­å½’çº³\nç‰¹å¾ Trait 1 2 3 4 fn add<T: std::ops::Add<Output = T>>(a:T, b:T) -> T { a + b } Trait å®šä¹‰äº†ä¸€ç»„å¯ä»¥è¢«å…±äº«çš„è¡Œä¸ºï¼Œåªè¦å®ç°äº†ç‰¹å¾ï¼Œä½ å°±èƒ½å®ç°è¿™ç»„è¡Œä¸ºã€‚\n"><meta property='og:url' content='https://mysetsuna.github.io/p/rust%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%B7%AF%E7%89%B9%E5%BE%81trait/'><meta property='og:site_name' content="Jack Jiang'Blog"><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='Rust'><meta property='article:tag' content='Rustè¯­è¨€åœ£ç»ï¼ˆRust Courseï¼‰'><meta property='article:published_time' content='2024-03-11T22:36:29+08:00'><meta property='article:modified_time' content='2024-03-11T22:36:29+08:00'><meta name=twitter:title content="Rustå­¦ä¹ ä¹‹è·¯â€”â€”ç‰¹å¾ï¼ˆTraitï¼‰"><meta name=twitter:description content="â€”â€” æœ¬æ–‡å†…å®¹ä»ã€ŠRustè¯­è¨€åœ£ç»ï¼ˆRust Courseï¼‰ã€‹ä¸­å½’çº³\nç‰¹å¾ Trait 1 2 3 4 fn add<T: std::ops::Add<Output = T>>(a:T, b:T) -> T { a + b } Trait å®šä¹‰äº†ä¸€ç»„å¯ä»¥è¢«å…±äº«çš„è¡Œä¸ºï¼Œåªè¦å®ç°äº†ç‰¹å¾ï¼Œä½ å°±èƒ½å®ç°è¿™ç»„è¡Œä¸ºã€‚\n"><link rel="shortcut icon" href=/baobao.jpg></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/baobao_hu7855644242273941259.jpg width=300 height=262 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>ğŸ‘¾</span></figure><div class=site-meta><h1 class=site-name><a href=/>Jack Jiang'Blog</a></h1><h2 class=site-description>Rome was not built in a day</h2></div></header><ol class=menu-social><li><a href=https://github.com/Mysetsuna target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=mailto:jxk2setsuna@gmail.com target=_blank title=Email rel=me><svg width="32" height="32" viewBox="0 0 32 32"><path d="M32 6v20c0 1.135-.865 2-2 2h-2V9.849l-12 8.62-12-8.62V28H2c-1.135.0-2-.865-2-2V6c0-.568.214-1.068.573-1.422C.932 4.213 1.432 4 2 4h.667L16 13.667 29.333 4H30c.568.0 1.068.214 1.427.578.359.354.573.854.573 1.422z"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><li class=menu-bottom-section><ol class=menu><li id=i18n-switch><svg class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg>
<select name=language title=language onchange="window.location.href=this.selectedOptions[0].value"><option value=https://mysetsuna.github.io/zh/>æ±‰è¯­</option><option value=https://mysetsuna.github.io/ selected>English</option></select></li><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#ç‰¹å¾-trait>ç‰¹å¾ Trait</a></li><li><a href=#å®šä¹‰-trait>å®šä¹‰ Trait</a></li><li><a href=#ä¸ºç±»å‹å®ç°ç‰¹å¾>ä¸ºç±»å‹å®ç°ç‰¹å¾</a><ol><li><a href=#ç‰¹å¾å®šä¹‰ä¸å®ç°çš„ä½ç½®å­¤å„¿è§„åˆ™>ç‰¹å¾å®šä¹‰ä¸å®ç°çš„ä½ç½®ï¼ˆå­¤å„¿è§„åˆ™ï¼‰</a></li><li><a href=#é»˜è®¤å®ç°>é»˜è®¤å®ç°</a></li></ol></li><li><a href=#ä½¿ç”¨ç‰¹å¾ä½œä¸ºå‡½æ•°å‚æ•°>ä½¿ç”¨ç‰¹å¾ä½œä¸ºå‡½æ•°å‚æ•°</a></li><li><a href=#ç‰¹å¾çº¦æŸtrait-bound>ç‰¹å¾çº¦æŸï¼ˆtrait boundï¼‰</a><ol><li><a href=#å¤šé‡çº¦æŸ>å¤šé‡çº¦æŸ</a></li><li><a href=#where-çº¦æŸ>Where çº¦æŸ</a></li><li><a href=#ä½¿ç”¨ç‰¹å¾çº¦æŸæœ‰æ¡ä»¶åœ°å®ç°æ–¹æ³•æˆ–ç‰¹å¾>ä½¿ç”¨ç‰¹å¾çº¦æŸæœ‰æ¡ä»¶åœ°å®ç°æ–¹æ³•æˆ–ç‰¹å¾</a></li><li><a href=#æœ‰æ¡ä»¶åœ°å®ç°ç‰¹å¾>æœ‰æ¡ä»¶åœ°å®ç°ç‰¹å¾</a></li></ol></li><li><a href=#å‡½æ•°ä¸­è¿”å›-impl-trait>å‡½æ•°ä¸­è¿”å› impl Trait</a></li><li><a href=#ä¿®å¤ä¸Šä¸€èŠ‚ä¸­largestå‡½æ•°>ä¿®å¤ä¸Šä¸€èŠ‚ä¸­largestå‡½æ•°</a></li><li><a href=#é€šè¿‡deriveæ´¾ç”Ÿç‰¹å¾>é€šè¿‡deriveæ´¾ç”Ÿç‰¹å¾</a><ol><li><a href=#ç”¨äºå¼€å‘è€…è¾“å‡ºçš„-debug>ç”¨äºå¼€å‘è€…è¾“å‡ºçš„ Debug</a></li><li><a href=#ç­‰å€¼æ¯”è¾ƒçš„-partialeq-å’Œ-eq>ç­‰å€¼æ¯”è¾ƒçš„ PartialEq å’Œ Eq</a></li><li><a href=#æ¬¡åºæ¯”è¾ƒçš„-partialord-å’Œ-ord>æ¬¡åºæ¯”è¾ƒçš„ PartialOrd å’Œ Ord</a></li><li><a href=#å›ºå®šå¤§å°çš„å€¼æ˜ å°„çš„-hash>å›ºå®šå¤§å°çš„å€¼æ˜ å°„çš„ Hash</a></li><li><a href=#é»˜è®¤çš„default>é»˜è®¤çš„Default</a></li></ol></li><li><a href=#è°ƒç”¨æ–¹æ³•éœ€è¦å¼•å…¥ç‰¹å¾>è°ƒç”¨æ–¹æ³•éœ€è¦å¼•å…¥ç‰¹å¾</a></li><li><a href=#å‡ ä¸ªç»¼åˆä¾‹å­>å‡ ä¸ªç»¼åˆä¾‹å­</a><ol><li><a href=#ä¸ºè‡ªå®šä¹‰ç±»å‹å®ç°--æ“ä½œ>ä¸ºè‡ªå®šä¹‰ç±»å‹å®ç° + æ“ä½œ</a></li><li><a href=#è‡ªå®šä¹‰ç±»å‹çš„æ‰“å°è¾“å‡º>è‡ªå®šä¹‰ç±»å‹çš„æ‰“å°è¾“å‡º</a></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/rust/ style=background-color:#fff;color:#000>Rust</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/rust%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%B7%AF%E7%89%B9%E5%BE%81trait/>Rustå­¦ä¹ ä¹‹è·¯â€”â€”ç‰¹å¾ï¼ˆTraitï¼‰</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Mar 11, 2024</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>10 minute read</time></div></footer></div></header><section class=article-content><p>â€”â€” æœ¬æ–‡å†…å®¹ä»<a href=https://course.rs/basic/trait/trait.html>ã€ŠRustè¯­è¨€åœ£ç»ï¼ˆRust Courseï¼‰ã€‹</a>ä¸­å½’çº³</p><h2 id=ç‰¹å¾-trait>ç‰¹å¾ Trait</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>fn</span> <span class=nf>add</span><span class=o>&lt;</span><span class=n>T</span>: <span class=nc>std</span>::<span class=n>ops</span>::<span class=n>Add</span><span class=o>&lt;</span><span class=n>Output</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>T</span><span class=o>&gt;&gt;</span><span class=p>(</span><span class=n>a</span>:<span class=nc>T</span><span class=p>,</span><span class=w> </span><span class=n>b</span>:<span class=nc>T</span><span class=p>)</span><span class=w> </span>-&gt; <span class=nc>T</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>a</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>b</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>Trait å®šä¹‰äº†ä¸€ç»„å¯ä»¥è¢«å…±äº«çš„è¡Œä¸ºï¼Œåªè¦å®ç°äº†ç‰¹å¾ï¼Œä½ å°±èƒ½å®ç°è¿™ç»„è¡Œä¸ºã€‚</p><h2 id=å®šä¹‰-trait>å®šä¹‰ Trait</h2><p>å®šä¹‰ç‰¹å¾æ˜¯æŠŠä¸€äº›æ–¹æ³•ç»„åˆåœ¨ä¸€èµ·ï¼Œç›®çš„æ˜¯å®šä¹‰ä¸€ä¸ªå®ç°æŸäº›ç›®æ ‡æ‰€å¿…éœ€çš„è¡Œä¸ºçš„åˆé›†ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>pub</span><span class=w> </span><span class=k>trait</span><span class=w> </span><span class=n>Summary</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>fn</span> <span class=nf>summarize</span><span class=p>(</span><span class=o>&amp;</span><span class=bp>self</span><span class=p>)</span><span class=w> </span>-&gt; <span class=nb>String</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><ol><li><p>è¿™é‡Œä½¿ç”¨traitå…³é”®å­—æ¥å£°æ˜ä¸€ä¸ªç‰¹å¾ï¼ŒSummaryæ˜¯ç‰¹è¯åã€‚åœ¨å¤§æ‹¬å·ä¸­å®šä¹‰äº†è¯¥ç‰¹å¾çš„æ‰€æœ‰æ–¹æ³•ã€‚</p></li><li><p>ç‰¹å¾åªå®šä¹‰è¡Œä¸ºçœ‹èµ·æ¥æ˜¯ä»€ä¹ˆæ ·çš„ï¼Œè€Œä¸å®šä¹‰è¡Œä¸ºå…·ä½“æ˜¯ä»€ä¹ˆæ ·çš„ã€‚</p></li><li><p>å®ç°è¿™ä¸ªç‰¹å¾çš„ç±»å‹éƒ½éœ€è¦å…·ä½“å®ç°è¯¥ç‰¹å¾çš„ç›¸åº”æ–¹æ³•ã€‚</p></li></ol><h2 id=ä¸ºç±»å‹å®ç°ç‰¹å¾>ä¸ºç±»å‹å®ç°ç‰¹å¾</h2><p>ç‰¹å¾åªå®šä¹‰è¡Œä¸ºï¼Œéœ€è¦ä¸ºç±»å‹å®ç°å…·ä½“çš„ç‰¹å¾ï¼Œå®šä¹‰å…·ä½“è¡Œä¸ºã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>pub</span><span class=w> </span><span class=k>trait</span><span class=w> </span><span class=n>Summary</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>fn</span> <span class=nf>summarize</span><span class=p>(</span><span class=o>&amp;</span><span class=bp>self</span><span class=p>)</span><span class=w> </span>-&gt; <span class=nb>String</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>pub</span><span class=w> </span><span class=k>struct</span> <span class=nc>Post</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>pub</span><span class=w> </span><span class=n>title</span>: <span class=nb>String</span><span class=p>,</span><span class=w> </span><span class=c1>// æ ‡é¢˜
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=k>pub</span><span class=w> </span><span class=n>author</span>: <span class=nb>String</span><span class=p>,</span><span class=w> </span><span class=c1>// ä½œè€…
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=k>pub</span><span class=w> </span><span class=n>content</span>: <span class=nb>String</span><span class=p>,</span><span class=w> </span><span class=c1>// å†…å®¹
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>impl</span><span class=w> </span><span class=n>Summary</span><span class=w> </span><span class=k>for</span><span class=w> </span><span class=n>Post</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>fn</span> <span class=nf>summarize</span><span class=p>(</span><span class=o>&amp;</span><span class=bp>self</span><span class=p>)</span><span class=w> </span>-&gt; <span class=nb>String</span> <span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=fm>format!</span><span class=p>(</span><span class=s>&#34;æ–‡ç« </span><span class=si>{}</span><span class=s>, ä½œè€…æ˜¯</span><span class=si>{}</span><span class=s>&#34;</span><span class=p>,</span><span class=w> </span><span class=bp>self</span><span class=p>.</span><span class=n>title</span><span class=p>,</span><span class=w> </span><span class=bp>self</span><span class=p>.</span><span class=n>author</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>pub</span><span class=w> </span><span class=k>struct</span> <span class=nc>Weibo</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>pub</span><span class=w> </span><span class=n>username</span>: <span class=nb>String</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>pub</span><span class=w> </span><span class=n>content</span>: <span class=nb>String</span>
</span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>impl</span><span class=w> </span><span class=n>Summary</span><span class=w> </span><span class=k>for</span><span class=w> </span><span class=n>Weibo</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>fn</span> <span class=nf>summarize</span><span class=p>(</span><span class=o>&amp;</span><span class=bp>self</span><span class=p>)</span><span class=w> </span>-&gt; <span class=nb>String</span> <span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=fm>format!</span><span class=p>(</span><span class=s>&#34;</span><span class=si>{}</span><span class=s>å‘è¡¨äº†å¾®åš</span><span class=si>{}</span><span class=s>&#34;</span><span class=p>,</span><span class=w> </span><span class=bp>self</span><span class=p>.</span><span class=n>username</span><span class=p>,</span><span class=w> </span><span class=bp>self</span><span class=p>.</span><span class=n>content</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>fn</span> <span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>post</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Post</span><span class=p>{</span><span class=n>title</span>: <span class=s>&#34;Rustè¯­è¨€ç®€ä»‹&#34;</span><span class=p>.</span><span class=n>to_string</span><span class=p>(),</span><span class=n>author</span>: <span class=s>&#34;Sunface&#34;</span><span class=p>.</span><span class=n>to_string</span><span class=p>(),</span><span class=w> </span><span class=n>content</span>: <span class=s>&#34;Rustæ£’æäº†!&#34;</span><span class=p>.</span><span class=n>to_string</span><span class=p>()};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>weibo</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Weibo</span><span class=p>{</span><span class=n>username</span>: <span class=s>&#34;sunface&#34;</span><span class=p>.</span><span class=n>to_string</span><span class=p>(),</span><span class=n>content</span>: <span class=s>&#34;å¥½åƒå¾®åšæ²¡Tweetå¥½ç”¨&#34;</span><span class=p>.</span><span class=n>to_string</span><span class=p>()};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;</span><span class=si>{}</span><span class=s>&#34;</span><span class=p>,</span><span class=n>post</span><span class=p>.</span><span class=n>summarize</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;</span><span class=si>{}</span><span class=s>&#34;</span><span class=p>,</span><span class=n>weibo</span><span class=p>.</span><span class=n>summarize</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=ç‰¹å¾å®šä¹‰ä¸å®ç°çš„ä½ç½®å­¤å„¿è§„åˆ™>ç‰¹å¾å®šä¹‰ä¸å®ç°çš„ä½ç½®ï¼ˆå­¤å„¿è§„åˆ™ï¼‰</h3><p>ï¼ï¼é‡è¦åŸåˆ™ï¼ˆå­¤å„¿åŸåˆ™ï¼‰
<strong>è‹¥ä¸ºç±»å‹Aå®ç°ç‰¹å¾Tï¼Œåˆ™Aæˆ–Tè‡³å°‘æœ‰ä¸€ä¸ªéœ€è¦æ—¶åœ¨å½“å‰ä½œç”¨åŸŸä¸­å®šä¹‰çš„</strong></p><p>è¿™å¯ä»¥ç¡®ä¿ä»–äººç¼–å†™çš„ä»£ç ä¸ä¼šç ´åä½ çš„ä»£ç </p><h3 id=é»˜è®¤å®ç°>é»˜è®¤å®ç°</h3><p>é»˜è®¤å®ç°ä¸è¦æ±‚é‡è½½Traitå†…çš„æ–¹æ³•</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=k>pub</span><span class=w> </span><span class=k>trait</span><span class=w> </span><span class=n>Summary</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>fn</span> <span class=nf>summarize</span><span class=p>(</span><span class=o>&amp;</span><span class=bp>self</span><span class=p>)</span><span class=w> </span>-&gt; <span class=nb>String</span> <span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nb>String</span>::<span class=n>from</span><span class=p>(</span><span class=s>&#34;(Read more...)&#34;</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>impl</span><span class=w> </span><span class=n>Summary</span><span class=w> </span><span class=k>for</span><span class=w> </span><span class=n>Post</span><span class=w> </span><span class=p>{}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>impl</span><span class=w> </span><span class=n>Summary</span><span class=w> </span><span class=k>for</span><span class=w> </span><span class=n>Weibo</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>fn</span> <span class=nf>summarize</span><span class=p>(</span><span class=o>&amp;</span><span class=bp>self</span><span class=p>)</span><span class=w> </span>-&gt; <span class=nb>String</span> <span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=fm>format!</span><span class=p>(</span><span class=s>&#34;</span><span class=si>{}</span><span class=s>å‘è¡¨äº†å¾®åš</span><span class=si>{}</span><span class=s>&#34;</span><span class=p>,</span><span class=w> </span><span class=bp>self</span><span class=p>.</span><span class=n>username</span><span class=p>,</span><span class=w> </span><span class=bp>self</span><span class=p>.</span><span class=n>content</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// Summary for Post: (Read more...)
</span></span></span><span class=line><span class=cl><span class=c1>// Summary for Weibo :sunfaceå‘è¡¨äº†å¾®åšå¥½åƒå¾®åšæ²¡Tweetå¥½ç”¨
</span></span></span></code></pre></td></tr></table></div></div><p>é»˜è®¤å®ç°å¯ä»¥è°ƒç”¨ç›¸åŒç‰¹å¾ä¸­çš„å…¶ä»–æ–¹æ³•ï¼Œå“ªæ€•è¿™äº›æ–¹æ³•æ²¡æœ‰é»˜è®¤å®ç°</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=c1>// å®šä¹‰
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>pub</span><span class=w> </span><span class=k>trait</span><span class=w> </span><span class=n>Summary</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>fn</span> <span class=nf>summarize_author</span><span class=p>(</span><span class=o>&amp;</span><span class=bp>self</span><span class=p>)</span><span class=w> </span>-&gt; <span class=nb>String</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>fn</span> <span class=nf>summarize</span><span class=p>(</span><span class=o>&amp;</span><span class=bp>self</span><span class=p>)</span><span class=w> </span>-&gt; <span class=nb>String</span> <span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=fm>format!</span><span class=p>(</span><span class=s>&#34;(Read more from </span><span class=si>{}</span><span class=s>...)&#34;</span><span class=p>,</span><span class=w> </span><span class=bp>self</span><span class=p>.</span><span class=n>summarize_author</span><span class=p>())</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>//è°ƒç”¨
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>impl</span><span class=w> </span><span class=n>Summary</span><span class=w> </span><span class=k>for</span><span class=w> </span><span class=n>Weibo</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>fn</span> <span class=nf>summarize_author</span><span class=p>(</span><span class=o>&amp;</span><span class=bp>self</span><span class=p>)</span><span class=w> </span>-&gt; <span class=nb>String</span> <span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=fm>format!</span><span class=p>(</span><span class=s>&#34;@</span><span class=si>{}</span><span class=s>&#34;</span><span class=p>,</span><span class=w> </span><span class=bp>self</span><span class=p>.</span><span class=n>username</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;1 new weibo: </span><span class=si>{}</span><span class=s>&#34;</span><span class=p>,</span><span class=w> </span><span class=n>weibo</span><span class=p>.</span><span class=n>summarize</span><span class=p>());</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=ä½¿ç”¨ç‰¹å¾ä½œä¸ºå‡½æ•°å‚æ•°>ä½¿ç”¨ç‰¹å¾ä½œä¸ºå‡½æ•°å‚æ•°</h2><p>ç‰¹å¾ä½œä¸ºå‡½æ•°å‚æ•°</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=n>pb</span><span class=w> </span><span class=n>fun</span><span class=w> </span><span class=n>notify</span><span class=p>(</span><span class=n>item</span>: <span class=kp>&amp;</span><span class=nc>impl</span><span class=w> </span><span class=n>Summary</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;Breaking news! </span><span class=si>{}</span><span class=s>&#34;</span><span class=p>,</span><span class=w> </span><span class=n>item</span><span class=p>.</span><span class=n>summarize</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><code>impl Summary</code>,é¡¾åæ€ä¹‰ï¼ŒæŒ‡å®ç°äº†Summaryç‰¹å¾çš„itemå‚æ•°ã€‚</p><h2 id=ç‰¹å¾çº¦æŸtrait-bound>ç‰¹å¾çº¦æŸï¼ˆtrait boundï¼‰</h2><p><code>impl [Trait Name]</code> å®é™…ä¸Šæ˜¯ä¸€ä¸ªè¯­æ³•ç³–ï¼Œå®Œæ•´å½¢å¼æ˜¯ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=k>pub</span><span class=w> </span><span class=k>fn</span> <span class=nf>notify</span><span class=o>&lt;</span><span class=n>T</span>: <span class=nc>Summary</span><span class=o>&gt;</span><span class=p>(</span><span class=n>item</span>: <span class=kp>&amp;</span><span class=nc>T</span><span class=p>){</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;Breaking news!&#34;</span><span class=p>,</span><span class=w> </span><span class=n>item</span><span class=p>.</span><span class=n>summarize</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>å®Œæ•´çš„ä¹¦å†™å½¢å¼ï¼š<code>T: [Trait Name]</code>ï¼Œè¢«ç§°ä¸º<strong>ç‰¹å¾çº¦æŸ</strong>ã€‚</p><p><code>impl [Trait Name]</code> é€‚ç”¨äºç®€å•åœºæ™¯ï¼Œ</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=k>pub</span><span class=w> </span><span class=k>fn</span> <span class=nf>notify</span><span class=p>(</span><span class=n>item1</span>: <span class=kp>&amp;</span><span class=nc>impl</span><span class=w> </span><span class=n>Summary</span><span class=p>,</span><span class=w> </span><span class=n>item2</span>: <span class=kp>&amp;</span><span class=nc>impl</span><span class=w> </span><span class=n>Summary</span><span class=p>)</span><span class=w> </span><span class=p>{}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p><code>T: [Trait Name]</code>å¯ä»¥è¿›ä¸€æ­¥çº¦æŸå‚æ•°å¿…é¡»ç±»å‹ç›¸åŒ</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=k>pub</span><span class=w> </span><span class=k>fn</span> <span class=nf>notify</span><span class=o>&lt;</span><span class=n>T</span>:<span class=nc>Summary</span><span class=o>&gt;</span><span class=p>(</span><span class=n>item</span>: <span class=kp>&amp;</span><span class=nc>T</span><span class=p>,</span><span class=w> </span><span class=n>item2</span>: <span class=kp>&amp;</span><span class=nc>T</span><span class=p>){}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=å¤šé‡çº¦æŸ>å¤šé‡çº¦æŸ</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=c1>// è¯­æ³•ç³–
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>pub</span><span class=w> </span><span class=k>fn</span> <span class=nf>notify</span><span class=p>(</span><span class=n>item</span>: <span class=kp>&amp;</span><span class=p>(</span><span class=k>impl</span><span class=w> </span><span class=n>Summary</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>Display</span><span class=p>))</span><span class=w> </span><span class=p>{}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// ç‰¹å¾çº¦æŸ
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>pub</span><span class=w> </span><span class=k>fn</span> <span class=nf>notify</span><span class=o>&lt;</span><span class=n>T</span>: <span class=nc>Summary</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>Display</span><span class=o>&gt;</span><span class=p>(</span><span class=n>item</span>: <span class=kp>&amp;</span><span class=nc>T</span><span class=p>)</span><span class=w> </span><span class=p>{}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=where-çº¦æŸ>Where çº¦æŸ</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=c1>// ç‰¹å¾çº¦æŸå˜å¤šï¼Œç­¾åå˜å¾—å¤æ‚
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>fn</span> <span class=nf>some_function</span><span class=o>&lt;</span><span class=n>T</span>: <span class=nc>Display</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nb>Clone</span><span class=p>,</span><span class=w> </span><span class=n>U</span>: <span class=nb>Clone</span> <span class=o>+</span><span class=w> </span><span class=n>Debug</span><span class=o>&gt;</span><span class=p>(</span><span class=n>t</span>: <span class=kp>&amp;</span><span class=nc>T</span><span class=p>,</span><span class=w> </span><span class=n>u</span>: <span class=kp>&amp;</span><span class=nc>U</span><span class=p>)</span><span class=w> </span>-&gt; <span class=kt>i32</span> <span class=p>{}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// é€šè¿‡where ç®€åŒ–
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>fn</span> <span class=nf>some_fucntion</span><span class=o>&lt;</span><span class=n>T</span><span class=p>,</span><span class=w> </span><span class=n>U</span><span class=o>&gt;</span><span class=p>(</span><span class=n>t</span>: <span class=kp>&amp;</span><span class=nc>T</span><span class=p>,</span><span class=w> </span><span class=n>u</span>: <span class=kp>&amp;</span><span class=nc>U</span><span class=p>)</span><span class=w> </span>-&gt; <span class=kt>i32</span>
</span></span><span class=line><span class=cl>    <span class=nc>where</span><span class=w> </span><span class=n>T</span>: <span class=nc>Display</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nb>Clone</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=n>U</span>: <span class=nb>Clone</span> <span class=o>+</span><span class=w> </span><span class=n>Debug</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>{}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=ä½¿ç”¨ç‰¹å¾çº¦æŸæœ‰æ¡ä»¶åœ°å®ç°æ–¹æ³•æˆ–ç‰¹å¾>ä½¿ç”¨ç‰¹å¾çº¦æŸæœ‰æ¡ä»¶åœ°å®ç°æ–¹æ³•æˆ–ç‰¹å¾</h3><p>æŒ‡å®šç±»å‹ + æŒ‡å®šç‰¹å¾çš„æ¡ä»¶ä¸‹å»å®ç°æ–¹æ³•</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=k>use</span><span class=w> </span><span class=n>std</span>::<span class=n>fmt</span>::<span class=n>Display</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>struct</span> <span class=nc>Pair</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>x</span>:<span class=nc>T</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>y</span>:<span class=nc>T</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>impl</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span><span class=w> </span><span class=n>Pair</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>fn</span> <span class=nf>new</span><span class=p>(</span><span class=n>x</span>:<span class=nc>T</span><span class=p>,</span><span class=w> </span><span class=n>y</span>:<span class=nc>Y</span><span class=p>)</span><span class=w> </span>-&gt; <span class=nc>Self</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=bp>Self</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>x</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>y</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// åªæœ‰TåŒæ—¶å®ç°äº†Display + PartialOrdå¾—Pair&lt;T&gt;æ‰æœ‰cmp_displayæ–¹æ³•
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>impl</span><span class=o>&lt;</span><span class=n>T</span>: <span class=nc>Display</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=nb>PartialOrd</span><span class=o>&gt;</span><span class=w> </span><span class=n>Pair</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>fn</span> <span class=nf>cmp_display</span><span class=p>(</span><span class=o>&amp;</span><span class=bp>self</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=bp>self</span><span class=p>.</span><span class=n>x</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=bp>self</span><span class=p>.</span><span class=n>y</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;The largest member is x = </span><span class=si>{}</span><span class=s>&#34;</span><span class=p>,</span><span class=w> </span><span class=bp>self</span><span class=p>.</span><span class=n>x</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=k>else</span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;The largest member is y = </span><span class=si>{}</span><span class=s>&#34;</span><span class=p>,</span><span class=w> </span><span class=bp>self</span><span class=p>.</span><span class=n>y</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=æœ‰æ¡ä»¶åœ°å®ç°ç‰¹å¾>æœ‰æ¡ä»¶åœ°å®ç°ç‰¹å¾</h3><p>æ ‡å‡†åº“ä¸ºä»»ä½•å®ç°Displayç‰¹å¾çš„ç±»å‹å®ç°äº†ToStringç‰¹å¾ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=k>impl</span><span class=o>&lt;</span><span class=n>T</span>: <span class=nc>Display</span><span class=o>&gt;</span><span class=w> </span><span class=nb>ToString</span><span class=w> </span><span class=k>for</span><span class=w> </span><span class=n>T</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>//...
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>//ä»»ä½•å®ç°äº†Displayçš„ç‰¹å¾çš„ç±»å‹è°ƒç”¨ç”±ToStringå®šä¹‰çš„to_stringæ–¹æ³•ã€‚
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>let</span><span class=w> </span><span class=n>s</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>3.</span><span class=n>to_string</span><span class=p>();</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=å‡½æ•°ä¸­è¿”å›-impl-trait>å‡½æ•°ä¸­è¿”å› impl Trait</h2><p>å¯ä»¥é€šè¿‡<code>impl Trait</code>æ¥è¯´æ˜ä¸€ä¸ªå‡½æ•°è¿”å›äº†å®ä¹ äº†æŒ‡å®šTraitçš„ç±»å‹</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=k>fn</span> <span class=nf>returns_summarizable</span><span class=p>()</span><span class=w> </span>-&gt; <span class=nc>impl</span><span class=w> </span><span class=n>Summary</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>Weibo</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>username</span>: <span class=nb>String</span>::<span class=n>from</span><span class=p>(</span><span class=s>&#34;sunface&#34;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>content</span>: <span class=nb>String</span>::<span class=n>from</span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=s>&#34;m1 maxå¤ªå‰å®³äº†ï¼Œç”µè„‘å†ä¹Ÿä¸ä¼šå¡&#34;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>æ³¨æ„ï¼Œè¿™é‡Œåªèƒ½è®©å‡½æ•°è°ƒç”¨è€…çŸ¥é“ï¼Œå‡½æ•°çš„è¿”å›å€¼å®ç°äº†<code>Summary</code>è¿™ä¸ªTraitï¼Œå´æ²¡æœ‰å‘ŠçŸ¥è°ƒç”¨è€…ï¼Œè¿”å›å€¼çš„å…·ä½“ç±»å‹ã€‚
è¿™ç§å†™æ³•åœ¨è¿”å›ç±»å‹ç‰¹åˆ«å¤æ‚ï¼Œæ— æ³•æ˜ç¡®å®šä¹‰çš„æƒ…å†µä¸‹ç‰¹åˆ«æœ‰ç”¨ï¼Œä½†æ˜¯è¦æ³¨æ„çš„æ˜¯ï¼š
<em><strong>è¿”å›å€¼åªèƒ½æ˜¯ä¸€ç§å…·ä½“ç±»å‹</strong></em>ï¼Œä¾‹å¦‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=k>fn</span> <span class=nf>returns_summarizable</span><span class=p>(</span><span class=n>switch</span>: <span class=kt>bool</span><span class=p>)</span><span class=w> </span>-&gt; <span class=nc>impl</span><span class=w> </span><span class=n>Summary</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=n>switch</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>Post</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>title</span>: <span class=nb>String</span>::<span class=n>from</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=s>&#34;Penguins win the Stanley Cup Championship!&#34;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>author</span>: <span class=nb>String</span>::<span class=n>from</span><span class=p>(</span><span class=s>&#34;Iceburgh&#34;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>content</span>: <span class=nb>String</span>::<span class=n>from</span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=s>&#34;The Pittsburgh Penguins once again are then best
</span></span></span><span class=line><span class=cl><span class=s>                hockey team in the NHL.&#34;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>Weibo</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>username</span>: <span class=nb>String</span>::<span class=n>from</span><span class=p>(</span><span class=s>&#34;horse_ebooks&#34;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>content</span>: <span class=nb>String</span>::<span class=n>from</span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=s>&#34;of course,as you probaly alread knoew,people&#34;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>ä»¥ä¸Šä»£ç æ— æ³•é€šè¿‡ç¼–è¯‘ï¼Œå› ä¸ºè¿”å›äº†ä¸åŒçš„ç±»å‹ã€‚å¦‚æœæƒ³å®ç°è¿”å›ä¸åŒçš„ç±»å‹ï¼Œéœ€è¦ä½¿ç”¨ä¸‹ä¸€ç« èŠ‚ä¸­çš„<a href=/p/rust-trait-object/><strong>ç‰¹å¾å¯¹è±¡</strong></a></p><h2 id=ä¿®å¤ä¸Šä¸€èŠ‚ä¸­largestå‡½æ•°>ä¿®å¤ä¸Šä¸€èŠ‚ä¸­largestå‡½æ•°</h2><p>ä¸Šä¸€èŠ‚ä¾‹å­ä¸­ç¼–è¯‘æŠ¥é”™é—®é¢˜ // todo</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=k>fn</span> <span class=nf>largest</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span><span class=p>(</span><span class=n>list</span>: <span class=kp>&amp;</span><span class=p>[</span><span class=n>T</span><span class=p>])</span><span class=w> </span>-&gt; <span class=nc>T</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=k>mut</span><span class=w> </span><span class=n>largest</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>list</span><span class=p>[</span><span class=mi>0</span><span class=p>];</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>fro</span><span class=w> </span><span class=o>&amp;</span><span class=n>item</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=n>list</span><span class=p>.</span><span class=n>iter</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=n>item</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>largest</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>largest</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>item</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>largest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>fn</span> <span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>number</span><span class=w> </span><span class=o>=</span><span class=n>_list</span><span class=w> </span><span class=o>=</span><span class=fm>vec!</span><span class=p>[</span><span class=mi>34</span><span class=p>,</span><span class=w> </span><span class=mi>58</span><span class=p>,</span><span class=w> </span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>error</span><span class=p>[</span><span class=n>E0369</span><span class=p>]</span>: <span class=nc>binary</span><span class=w> </span><span class=n>operation</span><span class=w> </span><span class=err>`</span><span class=o>&gt;</span><span class=err>`</span><span class=w> </span><span class=n>cannot</span><span class=w> </span><span class=n>be</span><span class=w> </span><span class=n>applied</span><span class=w> </span><span class=n>to</span><span class=w> </span><span class=k>type</span> <span class=err>`</span><span class=n>T</span><span class=err>`</span><span class=w> </span><span class=c1>// æ— æ³•åœ¨ `T` ç±»å‹ä¸Šåº”ç”¨`&gt;`è¿ç®—ç¬¦
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w> </span><span class=o>-</span>-&gt; <span class=nc>src</span><span class=o>/</span><span class=n>main</span><span class=p>.</span><span class=n>rs</span>:<span class=mi>5</span>:<span class=mi>17</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=mi>5</span><span class=w> </span><span class=o>|</span><span class=w>         </span><span class=k>if</span><span class=w> </span><span class=n>item</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>largest</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=o>|</span><span class=w>            </span><span class=o>----</span><span class=w> </span><span class=o>^</span><span class=w> </span><span class=o>-------</span><span class=w> </span><span class=n>T</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=o>|</span><span class=w>            </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=o>|</span><span class=w>            </span><span class=n>T</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>help</span>: <span class=nc>consider</span><span class=w> </span><span class=n>restricting</span><span class=w> </span><span class=k>type</span> <span class=nc>parameter</span><span class=w> </span><span class=err>`</span><span class=n>T</span><span class=err>`</span><span class=w> </span><span class=c1>// è€ƒè™‘ä½¿ç”¨ä»¥ä¸‹çš„ç‰¹å¾æ¥çº¦æŸ `T`
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>  </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=mi>1</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=k>fn</span> <span class=nf>largest</span><span class=o>&lt;</span><span class=n>T</span>: <span class=nc>std</span>::<span class=n>cmp</span>::<span class=nb>PartialOrd</span><span class=o>&gt;</span><span class=p>(</span><span class=n>list</span>: <span class=kp>&amp;</span><span class=p>[</span><span class=n>T</span><span class=p>])</span><span class=w> </span>-&gt; <span class=nc>T</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=o>|</span><span class=w>             </span><span class=o>^^^^^^^^^^^^^^^^^^^^^^</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>åœ¨ largest å‡½æ•°ä½“ä¸­æˆ‘ä»¬æƒ³è¦ä½¿ç”¨å¤§äºè¿ç®—ç¬¦ï¼ˆ>ï¼‰æ¯”è¾ƒä¸¤ä¸ª T ç±»å‹çš„å€¼ã€‚è¿™ä¸ªè¿ç®—ç¬¦æ˜¯æ ‡å‡†åº“ä¸­ç‰¹å¾ <code>std::cmp::PartialOrd</code> çš„ä¸€ä¸ªé»˜è®¤æ–¹æ³•ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=k>fn</span> <span class=nf>largest</span><span class=o>&lt;</span><span class=n>T</span>: <span class=nb>PartialOrd</span><span class=o>&gt;</span><span class=p>(</span><span class=n>list</span>: <span class=kp>&amp;</span><span class=p>[</span><span class=n>T</span><span class=p>])</span><span class=w> </span>-&gt; <span class=nc>T</span><span class=w> </span><span class=p>{}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>ä¼šå‡ºç°æ–°çš„é”™è¯¯ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=n>error</span><span class=p>[</span><span class=n>E0508</span><span class=p>]</span>: <span class=nc>cannot</span><span class=w> </span><span class=k>move</span><span class=w> </span><span class=n>out</span><span class=w> </span><span class=n>of</span><span class=w> </span><span class=k>type</span> <span class=err>`</span><span class=p>[</span><span class=n>T</span><span class=p>]</span><span class=err>`</span><span class=p>,</span><span class=w> </span><span class=n>a</span><span class=w> </span><span class=n>non</span><span class=o>-</span><span class=n>copy</span><span class=w> </span><span class=n>slice</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=o>-</span>-&gt; <span class=nc>src</span><span class=o>/</span><span class=n>main</span><span class=p>.</span><span class=n>rs</span>:<span class=mi>2</span>:<span class=mi>23</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=mi>2</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=kd>let</span><span class=w> </span><span class=k>mut</span><span class=w> </span><span class=n>largest</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>list</span><span class=p>[</span><span class=mi>0</span><span class=p>];</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=o>|</span><span class=w>                       </span><span class=o>^^^^^^^</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=o>|</span><span class=w>                       </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=o>|</span><span class=w>                       </span><span class=n>cannot</span><span class=w> </span><span class=k>move</span><span class=w> </span><span class=n>out</span><span class=w> </span><span class=n>of</span><span class=w> </span><span class=n>here</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=o>|</span><span class=w>                       </span><span class=n>help</span>: <span class=nc>consider</span><span class=w> </span><span class=n>using</span><span class=w> </span><span class=n>a</span><span class=w> </span><span class=n>reference</span><span class=w> </span><span class=n>instead</span>: <span class=err>`</span><span class=o>&amp;</span><span class=n>list</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=err>`</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>error</span><span class=p>[</span><span class=n>E0507</span><span class=p>]</span>: <span class=nc>cannot</span><span class=w> </span><span class=k>move</span><span class=w> </span><span class=n>out</span><span class=w> </span><span class=n>of</span><span class=w> </span><span class=n>borrowed</span><span class=w> </span><span class=n>content</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=o>-</span>-&gt; <span class=nc>src</span><span class=o>/</span><span class=n>main</span><span class=p>.</span><span class=n>rs</span>:<span class=mi>4</span>:<span class=mi>9</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=o>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=mi>4</span><span class=w> </span><span class=o>|</span><span class=w>     </span><span class=k>for</span><span class=w> </span><span class=o>&amp;</span><span class=n>item</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=n>list</span><span class=p>.</span><span class=n>iter</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=o>|</span><span class=w>         </span><span class=o>^----</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=o>|</span><span class=w>         </span><span class=o>||</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=o>|</span><span class=w>         </span><span class=o>|</span><span class=n>hint</span>: <span class=nc>to</span><span class=w> </span><span class=n>prevent</span><span class=w> </span><span class=k>move</span><span class=p>,</span><span class=w> </span><span class=k>use</span><span class=w> </span><span class=err>`</span><span class=k>ref</span><span class=w> </span><span class=n>item</span><span class=err>`</span><span class=w> </span><span class=n>or</span><span class=w> </span><span class=err>`</span><span class=k>ref</span><span class=w> </span><span class=k>mut</span><span class=w> </span><span class=n>item</span><span class=err>`</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=o>|</span><span class=w>         </span><span class=n>cannot</span><span class=w> </span><span class=k>move</span><span class=w> </span><span class=n>out</span><span class=w> </span><span class=n>of</span><span class=w> </span><span class=n>borrowed</span><span class=w> </span><span class=n>content</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>é”™è¯¯çš„æ ¸å¿ƒæ˜¯ cannot move out of type [T], a non-copy sliceï¼ŒåŸå› æ˜¯ T æ²¡æœ‰å®ç° Copy ç‰¹æ€§ï¼Œå› æ­¤æˆ‘ä»¬åªèƒ½æŠŠæ‰€æœ‰æƒè¿›è¡Œè½¬ç§»ï¼Œæ¯•ç«Ÿåªæœ‰ i32 ç­‰åŸºç¡€ç±»å‹æ‰å®ç°äº† Copy ç‰¹æ€§ï¼Œå¯ä»¥å­˜å‚¨åœ¨æ ˆä¸Šï¼Œè€Œ T å¯ä»¥æŒ‡ä»£ä»»ä½•ç±»å‹ï¼ˆä¸¥æ ¼æ¥è¯´æ˜¯å®ç°äº† PartialOrd ç‰¹å¾çš„æ‰€æœ‰ç±»å‹ï¼‰ã€‚</p><p>å› æ­¤ï¼Œä¸ºäº†è®© T æ‹¥æœ‰ Copy ç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥å¢åŠ ç‰¹å¾çº¦æŸï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=k>fn</span> <span class=nf>largest</span><span class=o>&lt;</span><span class=n>T</span>: <span class=nb>PartialOrd</span> <span class=o>+</span><span class=w> </span><span class=nb>Copy</span><span class=o>&gt;</span><span class=p>(</span><span class=n>list</span>: <span class=kp>&amp;</span><span class=p>[</span><span class=n>T</span><span class=p>])</span><span class=w> </span>-&gt; <span class=nc>T</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=k>mut</span><span class=w> </span><span class=n>largest</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>list</span><span class=p>[</span><span class=mi>0</span><span class=p>];</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=o>&amp;</span><span class=n>item</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=n>list</span><span class=p>.</span><span class=n>iter</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=n>item</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>largest</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>largest</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>item</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>largest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>fn</span> <span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>number_list</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=fm>vec!</span><span class=p>[</span><span class=mi>34</span><span class=p>,</span><span class=w> </span><span class=mi>50</span><span class=p>,</span><span class=w> </span><span class=mi>25</span><span class=p>,</span><span class=w> </span><span class=mi>100</span><span class=p>,</span><span class=w> </span><span class=mi>65</span><span class=p>];</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>result</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>largest</span><span class=p>(</span><span class=o>&amp;</span><span class=n>number_list</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;The largest number is </span><span class=si>{}</span><span class=s>&#34;</span><span class=p>,</span><span class=w> </span><span class=n>result</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>char_list</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=fm>vec!</span><span class=p>[</span><span class=sc>&#39;y&#39;</span><span class=p>,</span><span class=w> </span><span class=sc>&#39;m&#39;</span><span class=p>,</span><span class=w> </span><span class=sc>&#39;a&#39;</span><span class=p>,</span><span class=w> </span><span class=sc>&#39;q&#39;</span><span class=p>];</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>result</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>largest</span><span class=p>(</span><span class=o>&amp;</span><span class=n>char_list</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;The largest char is </span><span class=si>{}</span><span class=s>&#34;</span><span class=p>,</span><span class=w> </span><span class=n>result</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=é€šè¿‡deriveæ´¾ç”Ÿç‰¹å¾>é€šè¿‡deriveæ´¾ç”Ÿç‰¹å¾</h2><p>åœ¨æœ¬ä¹¦ä¸­ï¼Œå½¢å¦‚#[derive(Debug)]çš„ä»£ç ï¼Œè¿™ç§æ˜¯ä¸€ç§ç‰¹å¾æ´¾ç”Ÿè¯­æ³•ï¼Œè¢« derive æ ‡è®°çš„å¯¹è±¡ä¼šè‡ªåŠ¨å®ç°å¯¹åº”çš„é»˜è®¤ç‰¹å¾ä»£ç ï¼Œç»§æ‰¿ç›¸åº”çš„åŠŸèƒ½ã€‚</p><p>Debug ç‰¹å¾ï¼Œå®ƒæœ‰ä¸€å¥—è‡ªåŠ¨å®ç°çš„é»˜è®¤ä»£ç ï¼Œå½“ä½ ç»™ä¸€ä¸ªç»“æ„ä½“æ ‡è®°åï¼Œå°±å¯ä»¥ä½¿ç”¨ println!("{:?}", s) çš„å½¢å¼æ‰“å°è¯¥ç»“æ„ä½“çš„å¯¹è±¡ã€‚</p><p>Copy ç‰¹å¾ï¼Œå®ƒä¹Ÿæœ‰ä¸€å¥—è‡ªåŠ¨å®ç°çš„é»˜è®¤ä»£ç ï¼Œå½“æ ‡è®°åˆ°ä¸€ä¸ªç±»å‹ä¸Šæ—¶ï¼Œå¯ä»¥è®©è¿™ä¸ªç±»å‹è‡ªåŠ¨å®ç° Copy ç‰¹å¾ï¼Œè¿›è€Œå¯ä»¥è°ƒç”¨ copy æ–¹æ³•ï¼Œè¿›è¡Œè‡ªæˆ‘å¤åˆ¶ã€‚</p><p>derive æ´¾ç”Ÿå‡ºæ¥çš„æ˜¯ Rust é»˜è®¤ç»™æˆ‘ä»¬æä¾›çš„ç‰¹å¾ï¼Œåœ¨å¼€å‘è¿‡ç¨‹ä¸­æå¤§çš„ç®€åŒ–äº†è‡ªå·±æ‰‹åŠ¨å®ç°ç›¸åº”ç‰¹å¾çš„éœ€æ±‚ã€‚</p><h3 id=ç”¨äºå¼€å‘è€…è¾“å‡ºçš„-debug>ç”¨äºå¼€å‘è€…è¾“å‡ºçš„ Debug</h3><p>Debug ç‰¹å¾å¯ä»¥è®©æŒ‡å®šå¯¹è±¡è¾“å‡ºè°ƒè¯•æ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œé€šè¿‡åœ¨ {} å ä½ç¬¦ä¸­å¢åŠ  :? è¡¨æ˜ï¼Œä¾‹å¦‚println!(&ldquo;show you some debug info: {:?}&rdquo;, MyObject);.</p><p>Debug ç‰¹å¾å…è®¸ä»¥è°ƒè¯•ä¸ºç›®çš„æ¥æ‰“å°ä¸€ä¸ªç±»å‹çš„å®ä¾‹ï¼Œæ‰€ä»¥ç¨‹åºå‘˜å¯ä»¥åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­çœ‹åˆ°è¯¥å®ä¾‹çš„å…·ä½“ä¿¡æ¯ã€‚</p><p>ä¾‹å¦‚ï¼Œåœ¨ä½¿ç”¨ assert_eq! å®æ—¶ï¼Œ Debug ç‰¹å¾æ˜¯å¿…é¡»çš„ã€‚å¦‚æœæ–­è¨€å¤±è´¥ï¼Œè¿™ä¸ªå®å°±æŠŠç»™å®šå®ä¾‹çš„å€¼æ‰“å°å‡ºæ¥ï¼Œè¿™æ ·ç¨‹åºå‘˜å°±èƒ½çœ‹åˆ°ä¸¤ä¸ªå®ä¾‹ä¸ºä»€ä¹ˆä¸ç›¸ç­‰ã€‚</p><h3 id=ç­‰å€¼æ¯”è¾ƒçš„-partialeq-å’Œ-eq>ç­‰å€¼æ¯”è¾ƒçš„ PartialEq å’Œ Eq</h3><p>PartialEq ç‰¹å¾å¯ä»¥æ¯”è¾ƒä¸€ä¸ªç±»å‹çš„å®ä¾‹ä»¥æ£€æŸ¥æ˜¯å¦ç›¸ç­‰ï¼Œå¹¶å¼€å¯äº† == å’Œ != è¿ç®—ç¬¦çš„åŠŸèƒ½ã€‚</p><p>æ´¾ç”Ÿçš„ PartialEq å®ç°äº† eq æ–¹æ³•ã€‚å½“ PartialEq åœ¨ç»“æ„ä½“ä¸Šæ´¾ç”Ÿæ—¶ï¼Œåªæœ‰æ‰€æœ‰ çš„å­—æ®µéƒ½ç›¸ç­‰æ—¶ä¸¤ä¸ªå®ä¾‹æ‰ç›¸ç­‰ï¼ŒåŒæ—¶åªè¦æœ‰ä»»ä½•å­—æ®µä¸ç›¸ç­‰åˆ™ä¸¤ä¸ªå®ä¾‹å°±ä¸ç›¸ç­‰ã€‚å½“åœ¨æšä¸¾ä¸Šæ´¾ç”Ÿæ—¶ï¼Œæ¯ä¸€ä¸ªæˆå‘˜éƒ½å’Œå…¶è‡ªèº«ç›¸ç­‰ï¼Œä¸”å’Œå…¶ä»–æˆå‘˜éƒ½ä¸ç›¸ç­‰ã€‚</p><p>ä¾‹å¦‚ï¼Œå½“ä½¿ç”¨ assert_eq! å®æ—¶ï¼Œéœ€è¦æ¯”è¾ƒä¸€ä¸ªç±»å‹çš„ä¸¤ä¸ªå®ä¾‹æ˜¯å¦ç›¸ç­‰ï¼Œåˆ™ PartialEq ç‰¹å¾æ˜¯å¿…é¡»çš„ã€‚</p><p>Eq ç‰¹å¾æ²¡æœ‰æ–¹æ³•, å…¶ä½œç”¨æ˜¯è¡¨æ˜æ¯ä¸€ä¸ªè¢«æ ‡è®°ç±»å‹çš„å€¼éƒ½ç­‰äºå…¶è‡ªèº«ã€‚ Eq ç‰¹å¾åªèƒ½åº”ç”¨äºé‚£äº›å®ç°äº† PartialEq çš„ç±»å‹ï¼Œä½†å¹¶éæ‰€æœ‰å®ç°äº† PartialEq çš„ç±»å‹éƒ½å¯ä»¥å®ç° Eqã€‚æµ®ç‚¹ç±»å‹å°±æ˜¯ä¸€ä¸ªä¾‹å­ï¼šæµ®ç‚¹æ•°çš„å®ç°è¡¨æ˜ä¸¤ä¸ªéæ•°å­—ï¼ˆ NaN ï¼Œnot-a-numberï¼‰å€¼æ˜¯äº’ä¸ç›¸ç­‰çš„ã€‚</p><p>ä¾‹å¦‚ï¼Œå¯¹äºä¸€ä¸ª HashMap&lt;K, V> ä¸­çš„ key æ¥è¯´ï¼Œ Eq æ˜¯å¿…é¡»çš„ï¼Œè¿™æ · HashMap&lt;K, V> å°±å¯ä»¥çŸ¥é“ä¸¤ä¸ª key æ˜¯å¦ä¸€æ ·ã€‚</p><h3 id=æ¬¡åºæ¯”è¾ƒçš„-partialord-å’Œ-ord>æ¬¡åºæ¯”è¾ƒçš„ PartialOrd å’Œ Ord</h3><p>Clone ç‰¹å¾ç”¨äºåˆ›å»ºä¸€ä¸ªå€¼çš„æ·±æ‹·è´ï¼ˆdeep copyï¼‰ï¼Œå¤åˆ¶è¿‡ç¨‹å¯èƒ½åŒ…å«ä»£ç çš„æ‰§è¡Œä»¥åŠå †ä¸Šæ•°æ®çš„å¤åˆ¶ã€‚æŸ¥é˜… é€šè¿‡ Clone è¿›è¡Œæ·±æ‹·è´è·å–æœ‰å…³ Clone çš„æ›´å¤šä¿¡æ¯ã€‚</p><p>æ´¾ç”Ÿ Clone å®ç°äº† clone æ–¹æ³•ï¼Œå½“ä¸ºæ•´ä¸ªçš„ç±»å‹å®ç° Clone æ—¶ï¼Œåœ¨è¯¥ç±»å‹çš„æ¯ä¸€éƒ¨åˆ†ä¸Šéƒ½ä¼šè°ƒç”¨ clone æ–¹æ³•ã€‚è¿™æ„å‘³ç€ç±»å‹ä¸­æ‰€æœ‰å­—æ®µæˆ–å€¼ä¹Ÿå¿…é¡»å®ç°äº† Cloneï¼Œè¿™æ ·æ‰èƒ½å¤Ÿæ´¾ç”Ÿ Clone ã€‚</p><p>ä¾‹å¦‚ï¼Œå½“åœ¨ä¸€ä¸ªåˆ‡ç‰‡ï¼ˆsliceï¼‰ä¸Šè°ƒç”¨ to_vec æ–¹æ³•æ—¶ï¼Œ Clone æ˜¯å¿…é¡»çš„ã€‚åˆ‡ç‰‡åªæ˜¯ä¸€ä¸ªå¼•ç”¨ï¼Œå¹¶ä¸æ‹¥æœ‰å…¶æ‰€åŒ…å«çš„å®ä¾‹æ•°æ®ï¼Œä½†æ˜¯ä» to_vec ä¸­è¿”å›çš„ Vector éœ€è¦æ‹¥æœ‰å®ä¾‹æ•°æ®ï¼Œå› æ­¤ï¼Œ to_vec éœ€è¦åœ¨æ¯ä¸ªå…ƒç´ ä¸Šè°ƒç”¨ clone æ¥é€ä¸ªå¤åˆ¶ã€‚å› æ­¤ï¼Œå­˜å‚¨åœ¨åˆ‡ç‰‡ä¸­çš„ç±»å‹å¿…é¡»å®ç° Cloneã€‚</p><p>Copy ç‰¹å¾å…è®¸ä½ é€šè¿‡åªæ‹·è´å­˜å‚¨åœ¨æ ˆä¸Šçš„æ•°æ®æ¥å¤åˆ¶å€¼(æµ…æ‹·è´),è€Œæ— éœ€å¤åˆ¶å­˜å‚¨åœ¨å †ä¸Šçš„åº•å±‚æ•°æ®ã€‚æŸ¥é˜… é€šè¿‡ Copy å¤åˆ¶æ ˆæ•°æ® çš„éƒ¨åˆ†æ¥è·å–æœ‰å…³ Copy çš„æ›´å¤šä¿¡æ¯ã€‚</p><p>å®é™…ä¸Š Copy ç‰¹å¾å¹¶ä¸é˜»æ­¢ä½ åœ¨å®ç°æ—¶ä½¿ç”¨äº†æ·±æ‹·è´ï¼Œåªæ˜¯ï¼Œæˆ‘ä»¬ä¸åº”è¯¥è¿™ä¹ˆåšï¼Œæ¯•ç«Ÿéµå¾ªä¸€ä¸ªè¯­è¨€çš„æƒ¯ä¾‹æ˜¯å¾ˆé‡è¦çš„ã€‚å½“ç”¨æˆ·çœ‹åˆ° Copy æ—¶ï¼Œæ½œæ„è¯†å°±åº”è¯¥çŸ¥é“è¿™æ˜¯æµ…æ‹·è´ï¼Œå¤åˆ¶ä¸€ä¸ªå€¼ä¼šéå¸¸å¿«ã€‚</p><p>å½“ä¸€ä¸ªç±»å‹çš„å†…éƒ¨å­—æ®µå…¨éƒ¨å®ç°äº† Copy æ—¶ï¼Œä½ å°±å¯ä»¥åœ¨è¯¥ç±»å‹ä¸Šæ´¾ä¸Š Copy ç‰¹å¾ã€‚ ä¸€ä¸ªç±»å‹å¦‚æœè¦å®ç° Copy å®ƒå¿…é¡»å…ˆå®ç° Clone ï¼Œå› ä¸ºä¸€ä¸ªç±»å‹å®ç° Clone åï¼Œå°±ç­‰äºé¡ºä¾¿å®ç°äº† Copy ã€‚</p><p>æ€»ä¹‹ï¼Œ Copy æ‹¥æœ‰æ›´å¥½çš„æ€§èƒ½ï¼Œå½“æµ…æ‹·è´è¶³å¤Ÿçš„æ—¶å€™ï¼Œå°±ä¸è¦ä½¿ç”¨ Clone ï¼Œä¸ç„¶ä¼šå¯¼è‡´ä½ çš„ä»£ç è¿è¡Œæ›´æ…¢ï¼Œå¯¹äºæ€§èƒ½ä¼˜åŒ–æ¥è¯´ï¼Œä¸€ä¸ªå¾ˆå¤§çš„æ–¹é¢å°±æ˜¯å‡å°‘çƒ­ç‚¹è·¯å¾„æ·±æ‹·è´çš„å‘ç”Ÿã€‚</p><h3 id=å›ºå®šå¤§å°çš„å€¼æ˜ å°„çš„-hash>å›ºå®šå¤§å°çš„å€¼æ˜ å°„çš„ Hash</h3><p>Hash ç‰¹å¾å…è®¸ä½ ä½¿ç”¨ hash å‡½æ•°æŠŠä¸€ä¸ªä»»æ„å¤§å°çš„å®ä¾‹æ˜ å°„åˆ°ä¸€ä¸ªå›ºå®šå¤§å°çš„å€¼ä¸Šã€‚æ´¾ç”Ÿ Hash å®ç°äº† hash æ–¹æ³•ï¼Œå¯¹æŸä¸ªç±»å‹è¿›è¡Œ hash è°ƒç”¨ï¼Œå…¶å®å°±æ˜¯å¯¹è¯¥ç±»å‹ä¸‹æ¯ä¸ªå­—æ®µå•ç‹¬è¿›è¡Œ hash è°ƒç”¨ï¼Œç„¶åæŠŠç»“æœè¿›è¡Œæ±‡æ€»ï¼Œè¿™æ„å‘³ç€è¯¥ç±»å‹ä¸‹çš„æ‰€æœ‰çš„å­—æ®µä¹Ÿå¿…é¡»å®ç°äº† Hashï¼Œè¿™æ ·æ‰èƒ½å¤Ÿæ´¾ç”Ÿ Hashã€‚</p><p>ä¾‹å¦‚ï¼Œåœ¨ HashMap&lt;K, V> ä¸Šå­˜å‚¨æ•°æ®ï¼Œå­˜æ”¾ key çš„æ—¶å€™ï¼Œ Hash æ˜¯å¿…é¡»çš„ã€‚</p><h3 id=é»˜è®¤çš„default>é»˜è®¤çš„Default</h3><p>Default ç‰¹å¾ä¼šå¸®ä½ åˆ›å»ºä¸€ä¸ªç±»å‹çš„é»˜è®¤å€¼ã€‚ æ´¾ç”Ÿ Default æ„å‘³ç€è‡ªåŠ¨å®ç°äº† default å‡½æ•°ã€‚ default å‡½æ•°çš„æ´¾ç”Ÿå®ç°è°ƒç”¨äº†ç±»å‹æ¯éƒ¨åˆ†çš„ default å‡½æ•°ï¼Œè¿™æ„å‘³ç€ç±»å‹ä¸­æ‰€æœ‰çš„å­—æ®µä¹Ÿå¿…é¡»å®ç°äº† Defaultï¼Œè¿™æ ·æ‰èƒ½å¤Ÿæ´¾ç”Ÿ Default ã€‚</p><p>Default::default å‡½æ•°é€šå¸¸ç»“åˆç»“æ„ä½“æ›´æ–°è¯­æ³•ä¸€èµ·ä½¿ç”¨ï¼Œè¿™åœ¨ç¬¬äº”ç« çš„ ç»“æ„ä½“æ›´æ–°è¯­æ³• éƒ¨åˆ†æœ‰è®¨è®ºã€‚å¯ä»¥è‡ªå®šä¹‰ä¸€ä¸ªç»“æ„ä½“çš„ä¸€å°éƒ¨åˆ†å­—æ®µè€Œå‰©ä½™å­—æ®µåˆ™ä½¿ç”¨ ..Default::default() è®¾ç½®ä¸ºé»˜è®¤å€¼ã€‚</p><p>ä¾‹å¦‚ï¼Œå½“ä½ åœ¨ Option<t> å®ä¾‹ä¸Šä½¿ç”¨ unwrap_or_default æ–¹æ³•æ—¶ï¼Œ Default ç‰¹å¾æ˜¯å¿…é¡»çš„ã€‚å¦‚æœ Option<t> æ˜¯ None çš„è¯, unwrap_or_default æ–¹æ³•å°†è¿”å› T ç±»å‹çš„ Default::default çš„ç»“æœã€‚</p><h2 id=è°ƒç”¨æ–¹æ³•éœ€è¦å¼•å…¥ç‰¹å¾>è°ƒç”¨æ–¹æ³•éœ€è¦å¼•å…¥ç‰¹å¾</h2><p>åœ¨ä¸€äº›åœºæ™¯ä¸­ï¼Œä½¿ç”¨ as å…³é”®å­—åšç±»å‹è½¬æ¢ä¼šæœ‰æ¯”è¾ƒå¤§çš„é™åˆ¶ï¼Œå› ä¸ºä½ æƒ³è¦åœ¨ç±»å‹è½¬æ¢ä¸Šæ‹¥æœ‰å®Œå…¨çš„æ§åˆ¶ï¼Œä¾‹å¦‚å¤„ç†è½¬æ¢é”™è¯¯ï¼Œé‚£ä¹ˆä½ å°†éœ€è¦ TryIntoï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=k>use</span><span class=w> </span><span class=n>std</span>::<span class=n>convert</span>::<span class=n>TryInto</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>fn</span> <span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=kd>let</span><span class=w> </span><span class=n>a</span>: <span class=kt>i32</span> <span class=o>=</span><span class=w> </span><span class=mi>10</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=kd>let</span><span class=w> </span><span class=n>b</span>: <span class=kt>u16</span> <span class=o>=</span><span class=w> </span><span class=mi>100</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=kd>let</span><span class=w> </span><span class=n>b_</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>b</span><span class=p>.</span><span class=n>try_into</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>.</span><span class=n>unwrap</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>if</span><span class=w> </span><span class=n>a</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>b_</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;Ten is less than one hundred.&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>ä¸Šé¢ä»£ç ä¸­å¼•å…¥äº† std::convert::TryInto ç‰¹å¾ï¼Œä½†æ˜¯å´æ²¡æœ‰ä½¿ç”¨å®ƒï¼Œå¯èƒ½æœ‰äº›åŒå­¦ä¼šä¸ºæ­¤å›°æƒ‘ï¼Œä¸»è¦åŸå› åœ¨äºå¦‚æœä½ è¦ä½¿ç”¨ä¸€ä¸ªç‰¹å¾çš„æ–¹æ³•ï¼Œé‚£ä¹ˆä½ éœ€è¦å°†è¯¥ç‰¹å¾å¼•å…¥å½“å‰çš„ä½œç”¨åŸŸä¸­ï¼Œæˆ‘ä»¬åœ¨ä¸Šé¢ç”¨åˆ°äº† try_into æ–¹æ³•ï¼Œå› æ­¤éœ€è¦å¼•å…¥å¯¹åº”çš„ç‰¹å¾ã€‚</p><p>ä½†æ˜¯ Rust åˆæä¾›äº†ä¸€ä¸ªéå¸¸ä¾¿åˆ©çš„åŠæ³•ï¼Œå³æŠŠæœ€å¸¸ç”¨çš„æ ‡å‡†åº“ä¸­çš„ç‰¹å¾é€šè¿‡ std::prelude æ¨¡å—æå‰å¼•å…¥åˆ°å½“å‰ä½œç”¨åŸŸä¸­ï¼Œå…¶ä¸­åŒ…æ‹¬äº† std::convert::TryIntoï¼Œä½ å¯ä»¥å°è¯•åˆ é™¤ç¬¬ä¸€è¡Œçš„ä»£ç  use &mldr;ï¼Œçœ‹çœ‹æ˜¯å¦ä¼šæŠ¥é”™ã€‚</p><h2 id=å‡ ä¸ªç»¼åˆä¾‹å­>å‡ ä¸ªç»¼åˆä¾‹å­</h2><h3 id=ä¸ºè‡ªå®šä¹‰ç±»å‹å®ç°--æ“ä½œ>ä¸ºè‡ªå®šä¹‰ç±»å‹å®ç° + æ“ä½œ</h3><p>åœ¨ Rust ä¸­é™¤äº†æ•°å€¼ç±»å‹çš„åŠ æ³•ï¼ŒString ä¹Ÿå¯ä»¥åšåŠ æ³•ï¼Œå› ä¸º Rust ä¸ºè¯¥ç±»å‹å®ç°äº† std::ops::Add ç‰¹å¾ï¼ŒåŒç†ï¼Œå¦‚æœæˆ‘ä»¬ä¸ºè‡ªå®šä¹‰ç±»å‹å®ç°äº†è¯¥ç‰¹å¾ï¼Œé‚£å°±å¯ä»¥è‡ªå·±å®ç° Point1 + Point2 çš„æ“ä½œ:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=k>use</span><span class=w> </span><span class=n>std</span>::<span class=n>ops</span>::<span class=n>Add</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// ä¸ºPointç»“æ„ä½“æ´¾ç”ŸDebugç‰¹å¾ï¼Œç”¨äºæ ¼å¼åŒ–è¾“å‡º
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=cp>#[derive(Debug)]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>struct</span> <span class=nc>Point</span><span class=o>&lt;</span><span class=n>T</span>: <span class=nc>Add</span><span class=o>&lt;</span><span class=n>T</span><span class=p>,</span><span class=w> </span><span class=n>Output</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>T</span><span class=o>&gt;&gt;</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=c1>//é™åˆ¶ç±»å‹Tå¿…é¡»å®ç°äº†Addç‰¹å¾ï¼Œå¦åˆ™æ— æ³•è¿›è¡Œ+æ“ä½œã€‚
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>    </span><span class=n>x</span>: <span class=nc>T</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>y</span>: <span class=nc>T</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>impl</span><span class=o>&lt;</span><span class=n>T</span>: <span class=nc>Add</span><span class=o>&lt;</span><span class=n>T</span><span class=p>,</span><span class=w> </span><span class=n>Output</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>T</span><span class=o>&gt;&gt;</span><span class=w> </span><span class=n>Add</span><span class=w> </span><span class=k>for</span><span class=w> </span><span class=n>Point</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>type</span> <span class=nc>Output</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Point</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>fn</span> <span class=nf>add</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=w> </span><span class=n>p</span>: <span class=nc>Point</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span><span class=p>)</span><span class=w> </span>-&gt; <span class=nc>Point</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>Point</span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>x</span>: <span class=nc>self</span><span class=p>.</span><span class=n>x</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=n>x</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>y</span>: <span class=nc>self</span><span class=p>.</span><span class=n>y</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>p</span><span class=p>.</span><span class=n>y</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>fn</span> <span class=nf>add</span><span class=o>&lt;</span><span class=n>T</span>: <span class=nc>Add</span><span class=o>&lt;</span><span class=n>T</span><span class=p>,</span><span class=w> </span><span class=n>Output</span><span class=o>=</span><span class=n>T</span><span class=o>&gt;&gt;</span><span class=p>(</span><span class=n>a</span>:<span class=nc>T</span><span class=p>,</span><span class=w> </span><span class=n>b</span>:<span class=nc>T</span><span class=p>)</span><span class=w> </span>-&gt; <span class=nc>T</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>a</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>b</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>fn</span> <span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>p1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Point</span><span class=p>{</span><span class=n>x</span>: <span class=mf>1.1</span><span class=k>f32</span><span class=p>,</span><span class=w> </span><span class=n>y</span>: <span class=mf>1.1</span><span class=k>f32</span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>p2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Point</span><span class=p>{</span><span class=n>x</span>: <span class=mf>2.1</span><span class=k>f32</span><span class=p>,</span><span class=w> </span><span class=n>y</span>: <span class=mf>2.1</span><span class=k>f32</span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;</span><span class=si>{:?}</span><span class=s>&#34;</span><span class=p>,</span><span class=w> </span><span class=n>add</span><span class=p>(</span><span class=n>p1</span><span class=p>,</span><span class=w> </span><span class=n>p2</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>p3</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Point</span><span class=p>{</span><span class=n>x</span>: <span class=mi>1</span><span class=k>i32</span><span class=p>,</span><span class=w> </span><span class=n>y</span>: <span class=mi>1</span><span class=k>i32</span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>p4</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Point</span><span class=p>{</span><span class=n>x</span>: <span class=mi>2</span><span class=k>i32</span><span class=p>,</span><span class=w> </span><span class=n>y</span>: <span class=mi>2</span><span class=k>i32</span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;</span><span class=si>{:?}</span><span class=s>&#34;</span><span class=p>,</span><span class=w> </span><span class=n>add</span><span class=p>(</span><span class=n>p3</span><span class=p>,</span><span class=w> </span><span class=n>p4</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=è‡ªå®šä¹‰ç±»å‹çš„æ‰“å°è¾“å‡º>è‡ªå®šä¹‰ç±»å‹çš„æ‰“å°è¾“å‡º</h3><p>åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå¾€å¾€åªè¦ä½¿ç”¨ #[derive(Debug)] å¯¹æˆ‘ä»¬çš„è‡ªå®šä¹‰ç±»å‹è¿›è¡Œæ ‡æ³¨ï¼Œå³å¯å®ç°æ‰“å°è¾“å‡ºçš„åŠŸèƒ½ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=cp>#[derive(Debug)]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>struct</span> <span class=nc>Point</span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>x</span>: <span class=kt>i32</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>y</span>: <span class=kt>i32</span>
</span></span><span class=line><span class=cl><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>fn</span> <span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>let</span><span class=w> </span><span class=n>p</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Point</span><span class=p>{</span><span class=n>x</span>:<span class=mi>3</span><span class=p>,</span><span class=n>y</span>:<span class=mi>3</span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;</span><span class=si>{:?}</span><span class=s>&#34;</span><span class=p>,</span><span class=n>p</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>ä½†æ˜¯åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œå¾€å¾€éœ€è¦å¯¹æˆ‘ä»¬çš„è‡ªå®šä¹‰ç±»å‹è¿›è¡Œè‡ªå®šä¹‰çš„æ ¼å¼åŒ–è¾“å‡ºï¼Œä»¥è®©ç”¨æˆ·æ›´å¥½çš„é˜…è¯»ç†è§£æˆ‘ä»¬çš„ç±»å‹ï¼Œæ­¤æ—¶å°±è¦ä¸ºè‡ªå®šä¹‰ç±»å‹å®ç° std::fmt::Display ç‰¹å¾ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=cp>#![allow(dead_code)]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>use</span><span class=w> </span><span class=n>std</span>::<span class=n>fmt</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>use</span><span class=w> </span><span class=n>std</span>::<span class=n>fmt</span>::<span class=p>{</span><span class=n>Display</span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=cp>#[derive(Debug,PartialEq)]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>enum</span> <span class=nc>FileState</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>Open</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>Closed</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=cp>#[derive(Debug)]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>struct</span> <span class=nc>File</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>name</span>: <span class=nb>String</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>data</span>: <span class=nb>Vec</span><span class=o>&lt;</span><span class=kt>u8</span><span class=o>&gt;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>state</span>: <span class=nc>FileState</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>impl</span><span class=w> </span><span class=n>Display</span><span class=w> </span><span class=k>for</span><span class=w> </span><span class=n>FileState</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>   </span><span class=k>fn</span> <span class=nf>fmt</span><span class=p>(</span><span class=o>&amp;</span><span class=bp>self</span><span class=p>,</span><span class=w> </span><span class=n>f</span>: <span class=kp>&amp;</span><span class=nc>mut</span><span class=w> </span><span class=n>fmt</span>::<span class=n>Formatter</span><span class=p>)</span><span class=w> </span>-&gt; <span class=nc>fmt</span>::<span class=nb>Result</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>     </span><span class=k>match</span><span class=w> </span><span class=o>*</span><span class=bp>self</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>         </span><span class=n>FileState</span>::<span class=n>Open</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=fm>write!</span><span class=p>(</span><span class=n>f</span><span class=p>,</span><span class=w> </span><span class=s>&#34;OPEN&#34;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>         </span><span class=n>FileState</span>::<span class=n>Closed</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=fm>write!</span><span class=p>(</span><span class=n>f</span><span class=p>,</span><span class=w> </span><span class=s>&#34;CLOSED&#34;</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>     </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>   </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>impl</span><span class=w> </span><span class=n>Display</span><span class=w> </span><span class=k>for</span><span class=w> </span><span class=n>File</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>   </span><span class=k>fn</span> <span class=nf>fmt</span><span class=p>(</span><span class=o>&amp;</span><span class=bp>self</span><span class=p>,</span><span class=w> </span><span class=n>f</span>: <span class=kp>&amp;</span><span class=nc>mut</span><span class=w> </span><span class=n>fmt</span>::<span class=n>Formatter</span><span class=p>)</span><span class=w> </span>-&gt; <span class=nc>fmt</span>::<span class=nb>Result</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=fm>write!</span><span class=p>(</span><span class=n>f</span><span class=p>,</span><span class=w> </span><span class=s>&#34;&lt;{} ({})&gt;&#34;</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>             </span><span class=bp>self</span><span class=p>.</span><span class=n>name</span><span class=p>,</span><span class=w> </span><span class=bp>self</span><span class=p>.</span><span class=n>state</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>   </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>impl</span><span class=w> </span><span class=n>File</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>fn</span> <span class=nf>new</span><span class=p>(</span><span class=n>name</span>: <span class=kp>&amp;</span><span class=kt>str</span><span class=p>)</span><span class=w> </span>-&gt; <span class=nc>File</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>File</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>name</span>: <span class=nb>String</span>::<span class=n>from</span><span class=p>(</span><span class=n>name</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>data</span>: <span class=nb>Vec</span>::<span class=n>new</span><span class=p>(),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>state</span>: <span class=nc>FileState</span>::<span class=n>Closed</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>fn</span> <span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=kd>let</span><span class=w> </span><span class=n>f6</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>File</span>::<span class=n>new</span><span class=p>(</span><span class=s>&#34;f6.txt&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c1>//...
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w>  </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;</span><span class=si>{:?}</span><span class=s>&#34;</span><span class=p>,</span><span class=w> </span><span class=n>f6</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;</span><span class=si>{}</span><span class=s>&#34;</span><span class=p>,</span><span class=w> </span><span class=n>f6</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div></section><footer class=article-footer><section class=article-tags><a href=/tags/rust/>Rust</a>
<a href=/tags/rust%E8%AF%AD%E8%A8%80%E5%9C%A3%E7%BB%8Frust-course/>Rustè¯­è¨€åœ£ç»ï¼ˆRust Courseï¼‰</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/p/rust%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%B7%AF%E6%B7%B1%E5%85%A5%E4%BA%86%E8%A7%A3%E7%89%B9%E5%BE%81/><div class=article-details><h2 class=article-title>Rustå­¦ä¹ ä¹‹è·¯â€”â€”æ·±å…¥äº†è§£ç‰¹å¾</h2></div></a></article><article><a href=/p/rust%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%B7%AF%E7%89%B9%E5%BE%81%E5%AF%B9%E8%B1%A1/><div class=article-details><h2 class=article-title>Rustå­¦ä¹ ä¹‹è·¯â€”â€”ç‰¹å¾å¯¹è±¡</h2></div></a></article></div></div></aside><script src=https://giscus.app/client.js data-repo=MySetsuna/mysetsuna.github.io data-repo-id=R_kgDOLVJ8Bg data-category="Show and tell" data-category-id=DIC_kwDOLVJ8Bs4Cdg5x data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=light data-lang=en crossorigin=anonymous async></script><script>function setGiscusTheme(e){let t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:{setConfig:{theme:e}}},"https://giscus.app")}(function(){addEventListener("message",t=>{if(event.origin!=="https://giscus.app")return;e()}),window.addEventListener("onColorSchemeChange",e);function e(){setGiscusTheme(document.documentElement.dataset.scheme==="light"?"light":"dark_dimmed")}})()</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2024 Jack Jiang'Blog</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.26.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>